<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>BirdQuiz</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"/>
        
        <link rel="icon" href="birdIcon.png" />
        <link rel="stylesheet" href="main.css" />
        <script defer src="login.js"></script>

        
        
    </head>
    <body class="bg-dark" style="background-image: url('commonLoon.jpg');">
        <header class="container-fluid">
            <nav class="navbar">
                <img src="birdIcon.png" alt="Bird Icon" width="50" style="margin-bottom:8px">
                <a href="index.html"><h2 style="font-size:38px; margin-left:5px">BirdQuiz</h2></a>
                <menu class="navbar-nav">
                    <li class="nav-item"><a href="about.html">About</a></li>
                    <li class="nav-item" id="nameDisplay"></li>
                    <script>
                        // Check if there is a username in localStorage
                        let name = localStorage.getItem('username');
                
                        if (name) {
                            // Display "Learn" button if a username exists
                            document.write('<button style="margin: 0 10px;"><a href="learn.html">Learn</a></button>');
                
                            // Display "My Journey" link if a username exists
                            document.write('<li class="nav-item"><a href="myJourney.html">My Journey</a></li>');
                
                            // Display the username in the navbar
                            document.getElementById("nameDisplay").textContent = "Signed in as " + name;
                        }
                    </script>
                </menu>
                              
            </nav>
        </header>
        <main>
            <!-- <p>Learn bird calls so you can identify them in the wild! </p> -->
            
            <div class="bd-example bd-example-placeholder-cards d-flex justify-content-around">
                <div class="card" style="margin-right:30px; margin-left:30px;">
                  <div class="card-body" style="margin-right:10px;
                  margin-left:10px;margin-top:100px;margin-bottom:100px"> 
                    <div class="login-container">

                        <div id="loginControls" style="display: none">
                            <h5 class="card-title">Login</h5>
                            <form method="get" action="myJourney.html">
                                <label for="username">Username:</label>
                                <input type="text" id="username" placeholder="Your username here" required>
                                <br>
                                <label for="password">Password:</label>
                                <input type="password" id="password" placeholder="Your password here" required>
                                <br>
                                <button type="button" class="greenButton" onclick="loginUser()">Login</button>
                                <button type="button" class="greenButton" onclick="createUser()">Create</button>
                            </form>
                        </div>

                        <div id="playControls" style="display: none">
                            <div id="playerName"></div>
                            <button type="button" class="greenButton" onclick="play()">Quiz</button>
                            <button type="button" class="greenButton" onclick="logout()">Logout</button>
                        </div>

                    </div>
                   </div>
                </div>
            </div>

            <!-- Error dialog -->
            <div class="modal fade" id="msgModal" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content text-dark">
                        <div class="modal-body">error message here</div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <a href = "https://github.com/Mchy6/startup">GitHub Repository</a>
            <div> Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik"> Freepik </a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
        </footer>
    </body>
